<!DOCTYPE html>
<html lang="en">
<head>
    <title>Labour Availability and Migration Details : Ameya</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="never">

    <meta name="publisher" content="dataworx">
    <meta name="copyright" content="Copyright ©2016 UASB">

    <link rel="shortcut icon" href="images/icons/favicon.ico">
    <link rel="apple-touch-icon" href="images/icons/favicon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/icons/favicon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/icons/favicon-114x114.png">

    <!-- bootstrap stylesheets -->
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,700">
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald:400,700,300">
    <link type="text/css" rel="stylesheet" href="vendors/jquery-ui-1.10.4.custom/css/ui-lightness/jquery-ui-1.10.4.custom.min.css">
    <link type="text/css" rel="stylesheet" href="vendors/font-awesome/css/font-awesome.min.css">
    <link type="text/css" rel="stylesheet" href="vendors/bootstrap/css/bootstrap.min.css">

    <!-- vendors stylesheets -->
    <link type="text/css" rel="stylesheet" href="vendors/animate.css/animate.css">
    <link type="text/css" rel="stylesheet" href="vendors/jquery-pace/pace.css">
    <link type="text/css" rel="stylesheet" href="vendors/iCheck/skins/all.css">
    <link type="text/css" rel="stylesheet" href="vendors/jquery-notific8/jquery.notific8.min.css">
    <link type="text/css" rel="stylesheet" href="vendors/bootstrap-daterangepicker/daterangepicker-bs3.css">

    <!--Stylesheets -->
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="css/style-responsive.css">
</head>
<body class="sidebar-collapsed">
    <div>
        <!--BACK TO TOP BEGINS -->
        <a id="totop" href="#"><i class="fa fa-angle-up"></i></a>
        <!--BACK TO TOP ENDS-->
        <!-- TOP BAR STARTS -->
        <div id="header-topbar-option-demo" class="page-header-topbar">
            <nav id="topbar" role="navigation" style="margin-bottom: 0; z-index: 2;" class="navbar navbar-default navbar-static-top">
                <div class="topbar-main">
                    <!-- APP TITLE STARTS -->
                    <a class="titlearea" href="index.html">
                        <img src="images/logo-uas.png" title="UASB" height="40" width="40" />&nbsp; AMEYA: SUJALA
                    </a>
                    <!-- APP TITLE ENDS -->
                    <!-- USER NAV STARTS -->
                    <ul class="nav navbar navbar-top-links navbar-right mbn">
                        <li class="dropdown topbar-user">
                            <a data-hover="dropdown" href="#" class="dropdown-toggle">
                                <img src="images/user-icon.jpg" title="User name" class="img-responsive img-circle" />&nbsp;
                                <span class="hidden-xs">Welcome &lt; user name &gt;</span>&nbsp;<span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-user pull-right">
                                <li><a href="settings.html"><i class="fa fa-user"></i>Settings</a></li>
                                <li><a href="signin.html"><i class="fa fa-key"></i>Log Out</a></li>
                            </ul>
                        </li>
                    </ul>
                    <!-- USER NAV ENDS -->
                </div>
            </nav>
        </div>
        <!-- TOP BAR ENDS -->
        <div id="wrapper">
            <!--PAGE WRAPPER BEGINS-->
            <div id="page-wrapper">
                <!-- TITLE & BREADCRUMB PAGE BEGINS-->
                <div id="title-breadcrumb-option-demo" class="page-title-breadcrumb">
                    <div class="page-header pull-left">
                        <div class="page-title"><a href="index.html"><i class="fa fa-home"></i></a>&nbsp;&nbsp;<i class="fa fa-angle-right"></i> Labour availability and migration details </div>
                    </div>
                    <!-- QUICK LINKS STARTS-->
                    <div class="col-md-4 pull-right" style="padding-top: 10px;">
                        <div class="form-group">
                            <select id="selqkLinks" class="form-control-qlinks" onchange="location=this.options[this.selectedIndex].value;">
                                <option value="">Quick Links</option>
                                <option value="input1-2general-info.html">General Information</option>
                                <option value="input3-sociological-demographic-info.html">Sociological &amp; Demographic Information</option>
                                <option value="input4-type-of-house.html">Type of House</option>
                                <option value="input5-durable-assets.html">Durable Assets</option>
                                <option value="input6-farm-implements.html">Farm Implements</option>
                                <option value="input7-livestock-animal-possession.html">Livestock &amp; Animal Possession</option>
                                <option value="input8-labour-availability-and-migration-details.html">Labour availability &amp; Migration</option>
                                <option value="input9-land-holding-survey-numbers.html">Land Holding &amp; Survey Numbers</option>
                                <option value="input10-irrigation-source-water-quality.html">Irrigation Source & Water Quality</option>
                                <option value="input11-cropping-pattern.html">Cropping Pattern</option>
                                <option value="input12-cropping-intensity.html">Cropping Intensity</option>
                                <option value="input13-borrowing-status.html">Borrowing Status</option>
                                <option value="input14-cost-of-production.html">Cost of Production</option>
                                <option value="input15-cost-of-production-on-subsidiary-enterprises.html">Cost of Production on Subsidiary Enterprises</option>
                                <option value="input16-fodder-availability.html">Fodder availability</option>
                                <option value="input17-family-annual-income.html">Family Annual Income</option>
                                <option value="input18-horticulture-forest-species.html">Horticulture &amp; Forest Species</option>
                                <option value="input19-additional-investment-capacity.html">Additional Investment Capacity</option>
                                <option value="input20-marketing-of-produce.html">Utilisation of Produce</option>
                                <option value="input21-awareness-of-watershed.html">Watershed Awareness</option>
                                <option value="input22-soil-water-conservation-practices.html">Soil and Water Conservation Practices</option>
                                <option value="input23-access-to-basic-needs.html">Access to Basic Needs</option>
                                <option value="input24-farming-constraints.html">Farming Constraints </option>
                                <option value="input25-adequacy-self-sufficiency-food-materials-for-households.html">Adequacy &amp; Self Sufficiency</option>
                                <option value="input26-watershed-improvement-suggestions.html">Watershed Improvement Suggestions</option>
                                <option value="input27-watershed-comments.html">Watershed Comments</option>
                            </select>
                        </div>
                    </div>
                    <!-- QUICK LINKS ENDS-->
                    <div class="clearfix"></div>
                </div>
                <!--TITLE & BREADCRUMB PAGE END-->
                <!-- CONTENT STARTS -->
                <div class="page-content">
                    <!-- PRE-SELECTED ITEMS STARTS -->
                    <div class="col-lg-12">
                        <div class="note note-info">
                            <div class="row mbm">
                            <div class="col-lg-3">
                                <span>Name of the District:</span> <strong><span id="disp_dist"> </span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Name of the Taluk: </span><strong><span id="disp_taluk"></span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Name of the Hobli: </span><strong><span id="disp_hobli"></span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Name of the Sub-watershed: </span><strong><span id="disp_sws"></span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Sub-watershed code: </span><strong><span id="disp_swsCode"> </span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Name of Micro-watershed: </span><strong><span id="disp_mws"></span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Micro-watershed code: </span><strong><span id="disp_mwscode"> </span></strong>
                            </div>
                            <div class="col-lg-3">
                                <span>Village Name: </span><strong><span id="disp_village"></span></strong>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- PRE-SELECTED ITEMS ENDS -->
                    <!-- INPUT TABLES STARTS -->
                    <div id="table-action" class="row">
                        <div class="col-lg-12">
                            <div class="tab-content">
                                <h4>Labour Availability</h4>
                                <div class="table-responsive">
                                    <table class="table table-hover table-striped table-bordered table-advanced tablesorter">
                                        <thead>
                                            <tr>
                                                <th>Particulars</th>
                                                <th>Men</th>
                                                <th>Women</th>
                                                <th>Adequacy</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Family labour availability <strong>(man-days) </strong>for agriculture (own farming)</td>
                                                <td>
                                                    <input id="txtLbrFamMen" type="number" min="0" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <input id="txtLbrFamWomen" type="number" min="0" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <select id="txtLbrFamAdequacy" class="form-control">
                                                        <option value="">Select</option>
                                                        <option>Adequate</option>
                                                        <option>Inadequate</option>
                                                    </select>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>Hired Labour availability <strong>(man-days) </strong>in the village for agriculture </td>
                                                <td>
                                                    <input id="txtLbrHiredMen" type="number" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <input id="txtLbrHiredWomen" type="number" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <select id="txtLbrHiredAdequacy" class="form-control">
                                                        <option value="">Select</option>
                                                        <option>Adequate</option>
                                                        <option>Inadequate</option>
                                                    </select>
                                                </td>
                                            </tr>
                                    </table>
                                </div>
                                <br />
                                <div>
                                    <div style="float:left">Has any member of the family migrated ? </div>
                                    <div style="float:left; padding-left:10px;">
                                        <select id="" class="form-control">
                                            <option value="">Select</option>
                                            <option>Yes</option>
                                            <option>No</option>
                                        </select>
                                    </div>
                                    <div style="clear:both"></div>
                                </div>
                                <h4>Migration Details</h4>
                                <div class="table-responsive">
                                    <table class="table table-hover table-striped table-bordered table-advanced tablesorter">
                                        <thead>
                                            <tr>
                                                <th>Family Member</th>
                                                <th>Gender</th>
                                                <th>Duration (months)</th>
                                                <th>Distance migrated (km)</th>
                                                <th>Place</th>
                                                <th>Purpose</th>
                                                <th>Savings</th>
                                                <th style="width:75px;">Delete</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <select id="txtFamMemName" class="form-control txtFamMemName" name="migratedMember[]">
                                                        <option value="">Select</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <span id="memberGender"></span>
                                                </td>
                                                <td>
                                                    <input id="txtMigratedDuration" type="number" min="0" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <input id="txtMigratedDistance" type="number" min="0" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <input id="txtMigratedPlace" type="text" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <select id="txtMigratedPurpose" class="form-control">
                                                        <option value="">Select</option>
                                                        <option>Job/wage/work</option>
                                                        <option>Business</option>
                                                        <option>Education of the children</option>
                                                        <option>Preference towards urban life</option>
                                                        <option>For agriculture in other location</option>
                                                        <option>Other</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input id="txtmigratedSavings" type="number" min="0" placeholder="" class="form-control" />
                                                </td>
                                                <td>
                                                    <button type="button" class="btn btn-default btn-xs">
                                                        <i class="fa fa-trash-o"></i>&nbsp;
                                                        Delete
                                                    </button>
                                                </td>
                                            </tr>
                                    </table>
                                </div>

                                <div class="table-responsive">
                                    <table class="table table-hover table-striped table-bordered table-advanced tablesorter">
                                        <thead>
                                            <tr>
                                                <th>&nbsp;</th>
                                                <th>Positive consequences</th>
                                                <th>Negative consequences</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Did migration have any effect on households? If yes, what are the consequences? If No, select None</td>
                                                <td>
                                                    <select id="txtMigratedPosConseq" class="form-control">
                                                        <option value="">Select</option>
                                                        <option>Construction of house</option>
                                                        <option>Purchase of land</option>
                                                        <option>Purchase of household asset</option>
                                                        <option>Improved quality of life</option>
                                                        <option>Better children education </option>
                                                        <option>Other</option>
                                                        <option>None</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <select id="txtMigratedNegConseq" class="form-control">
                                                        <option value="">Select</option>
                                                        <option>Workload for households increased</option>
                                                        <option>Parent felt neglect/ absence</option>
                                                        <option>Health hazards</option>
                                                        <option>Children education suffered</option>
                                                        <option>Disturbance in family life</option>
                                                        <option>Other</option>
                                                        <option>None</option>
                                                    </select>
                                                </td>
                                            </tr>
                                    </table>
                                </div>
                                <!-- buttons starts -->
                                <div class="pull-right">
                                    <button type="button" id="btnBackLaborMigration" class="btn btn-blue" onclick="prevPage()">< Back</button>
                                    &nbsp;
                                    <button type="button" id="btnResetLaborMigration" class="btn btn-primary">Reset</button>
                                    &nbsp;
                                    <button type="submit" id="btnSaveLaborMigration" class="btn btn-green" onclick="prevPage()">Save</button>
                                    &nbsp;
                                    <button type="button" id="btnNextLaborMigration" onclick="save_current_form()" class=" btn btn-blue">Next ></button>
                                </div>
                                <!-- buttons ends -->
                            </div>
                        </div>
                    </div>
                    <!--END CONTENT-->
                </div>
                <!--BEGIN FOOTER-->
                <div id="footer">
                    <div class="copyright">2016 © Directorate of Research, UAS, Bengaluru</div>
                </div>
                <!--END FOOTER-->
                <!--END PAGE WRAPPER-->
            </div>
        </div>
    </div>
    <!-- JQUERY -->
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/jquery-migrate-1.2.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>

    <!--BOOTSTRAP JS-->
    <script src="vendors/bootstrap/js/bootstrap.min.js"></script>
    <script src="vendors/bootstrap-hover-dropdown/bootstrap-hover-dropdown.js"></script>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <script src="vendors/metisMenu/jquery.metisMenu.js"></script>
    <script src="vendors/slimScroll/jquery.slimscroll.js"></script>
    <script src="vendors/jquery-cookie/jquery.cookie.js"></script>
    <script src="vendors/iCheck/icheck.min.js"></script>
    <script src="vendors/iCheck/custom.min.js"></script>
    <script src="vendors/jquery-notific8/jquery.notific8.min.js"></script>
    <script src="vendors/jquery-highcharts/highcharts.js"></script>
    <script src="js/jquery.menu.js"></script>
    <script src="vendors/holder/holder.js"></script>
    <script src="vendors/responsive-tabs/responsive-tabs.js"></script>
    <script src="vendors/jquery-news-ticker/jquery.newsTicker.min.js"></script>
    <script src="vendors/moment/moment.js"></script>
    <script src="vendors/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script src="vendors/bootstrap-daterangepicker/daterangepicker.js"></script>

    <!--CORE JAVASCRIPT-->
    <script src="js/main.js"></script>

    <!--LOADING SCRIPTS FOR PAGE-->
    <script src="js/table-action.js"></script>
    <script>
	
	var familyMember = localStorage.getItem('membername');		

	var familyMember_arr = familyMember.split(',');
	var familyMember_html='';
	familyMember_html+='<option value="" >Choose</option>';
	$.each(familyMember_arr,function(i,itm){
		familyMember_html +='<option value="'+ itm+'">'+itm+'</option>';
	});
	
	$('.txtFamMemName').html(familyMember_html).trigger('liszt:updated');

	
//display name of the district

var dist_val = JSON.parse(localStorage.getItem('dist_det'));
var district_vue = JSON.parse(localStorage.getItem('selDistrict'));
var store_dist = get_current_data(dist_val,'dist_id','dist_name',district_vue);
	$('#disp_dist').html(store_dist);
	
	
//display taluk	
	
var taluk_val = JSON.parse(localStorage.getItem('taluk_det'));
var taluk_vue = JSON.parse(localStorage.getItem('selTaluk'));
var store_taluk = get_current_data(taluk_val,'taluk_id','talukName',taluk_vue);
	$('#disp_taluk').html(store_taluk);	


//Display hobli

var hobli_val = JSON.parse(localStorage.getItem('hobli_det'));
var hobli_vue = JSON.parse(localStorage.getItem('selHobli'));
var store_hobli = get_current_data(hobli_val,'hobliId','hobliName',hobli_vue);
	$('#disp_hobli').html(store_hobli);	
	
//Display Sub Water shed code

var swsCode_val = JSON.parse(localStorage.getItem('subwatershed_det'));
var swsCode_vue = JSON.parse(localStorage.getItem('selSWSCode'));
var store_swsCode = get_current_data(swsCode_val,'subwatershedId','subwatershedCode',swsCode_vue);
	$('#disp_swsCode').html(store_swsCode);	
	
//display subwatershed name
	
var sws_val = JSON.parse(localStorage.getItem('subwatershed_det'));
var sws_vue = JSON.parse(localStorage.getItem('selSWSName'));
var store_sws = get_current_data(sws_val,'subwatershedId','subwatershedName',sws_vue);

	$('#disp_sws').html(store_sws);	
	
//display Micro water Shed	
	
var mws_val = JSON.parse(localStorage.getItem('microwatershed_det'));
var mws_vue = JSON.parse(localStorage.getItem('selMWSName'));
var store_mws = get_current_data(mws_val,'microwatershedId','microwatershedName',mws_vue);
	$('#disp_mws').html(store_mws);
	
//display Micro water Shed	code
	
var mwsCode_val = JSON.parse(localStorage.getItem('microwatershed_det'));
var mwsCode_vue = JSON.parse(localStorage.getItem('selMWSCode'));
var store_mwsCode = get_current_data(mwsCode_val,'microwatershedId','microwatershedCode',mwsCode_vue);
	$('#disp_mwscode').html(store_mwsCode);		


//display village name 

var village_val = JSON.parse(localStorage.getItem('village_det'));
var village_vue = JSON.parse(localStorage.getItem('selVillage'));
var store_village = get_current_data(village_val,'villageId','villageName',village_vue);
	$('#disp_village').html(store_village);



function get_current_data(arrval,keyid,keyname,keyval)
{
	var valname = '';
	for (var i = 0; i < arrval.length; i++) {
		
    if( arrval[i][keyid]==keyval){

		return valname = arrval[i][keyname];
		return false;
	 }
	}
	
}
	
	
	
//Fetch user name to store in the migration details	
	
/*	
	
	var familyMember = localStorage.getItem('membername');	
	var memberAge = localStorage.getItem('membergender');
	
	
	var familyMember_arr = familyMember.split(',');
var memberAge_arr = memberAge.split(',');
	var familyMember_html='';
	familyMember_html+='<option value="" >Choose</option>';
	$.each(familyMember_arr,function(i,itm){
		familyMember_html +='<option value="'+ itm+'">'+itm+'</option>';
	});
	
	$('.txtFamMemName').html(familyMember_html).trigger('liszt:updated');
	



$('#txtFamMemName').change(function(){
		$('#memberGender').html('');
		var famName = $(this).val();
		
		var farm_age = get_current_data(familyMember_arr,famName,memberAge_arr);
			$('#memberGender').html(farm_age);
	});

function get_current_data(arrval,keyid,arrval2)
{
	var valname = '';
	for (var i = 0; i < arrval.length; i++) {
		
    if( arrval[i]==keyid){

		return valname = arrval2[i];
		return false;
	 }
	}
	
}
	
	
	*/
	
	
function saveOnly(){
	
	var migratedFamilyMem = [];
  $('select[name="migratedMember[]"]').map(function(index, val) {
			 if($(val).val()!="")
			 migratedFamilyMem[index] = ($(val).val());
	    });

    var particulars_familyLabourMen = document.getElementById("txtLbrFamMen").value;
    var particulars_familyLabourWomen = document.getElementById("txtLbrFamWomen").value;
    var particulars_familyLabourAdequacy = document.getElementById("txtLbrFamAdequacy").value;
    var particulars_hiredLabouMen = document.getElementById("txtLbrHiredMen").value;
    var particulars_hiredLabouWomen = document.getElementById("txtLbrHiredWomen").value;
    var particulars_hiredLabouAdequacy = document.getElementById("txtLbrHiredAdequacy").value;
    var particulars_duration = document.getElementById("txtMigratedDuration").value;	
	var particulars_distance = document.getElementById("txtMigratedDistance").value;
	var particulars_place = document.getElementById("txtMigratedPlace").value;
	var particulars_purpose = document.getElementById("txtMigratedPurpose").value;
	var particulars_savings = document.getElementById("txtmigratedSavings").value;
	var particulars_posConseq = document.getElementById("txtMigratedPosConseq").value;
	var particulars_negConseq = document.getElementById("txtMigratedNegConseq").value;
	
	
    set_storage_item('txtLbrFamMen',particulars_familyLabourMen);
    set_storage_item('txtLbrFamWomen',particulars_familyLabourWomen);
    set_storage_item('txtLbrFamAdequacy',particulars_familyLabourAdequacy);
    set_storage_item('txtLbrHiredMen',particulars_hiredLabouMen);
    set_storage_item('txtLbrHiredWomen',particulars_hiredLabouWomen);
    set_storage_item('txtLbrHiredAdequacy',particulars_hiredLabouAdequacy);
	set_storage_item('migratedFamilyMem',migratedFamilyMem);
	set_storage_item('txtMigratedDuration',particulars_duration);
	set_storage_item('txtMigratedDistance',particulars_distance);
	set_storage_item('txtMigratedPlace',particulars_place);
	set_storage_item('txtMigratedPurpose',particulars_purpose);
	set_storage_item('txtmigratedSavings',particulars_savings);
	set_storage_item('txtMigratedPosConseq',particulars_posConseq);
	set_storage_item('txtMigratedNegConseq',particulars_negConseq);

	}


	function prevPage(){
		saveOnly();
		location.href = 'input7-livestock-animal-possession.html';	
		}

function save_current_form()
{
	saveOnly();
    location.href = 'input9-land-holding-survey-numbers.html';
}

function set_storage_item(itm,val)
{
    window.localStorage.setItem(itm,val);
}
    </script>
</body>
</html>
